
Документация
---------------------
Исследование технологического процесса очистки золота

Техническое задание
------------------------------
Получить  прототип модели машинного обучения для компании, которая разрабатывает решения для эффективной работы промышленных предприятий.  
Модель должна предсказать коэффициент восстановления золота из золотосодержащей руды по предоставленным компанией данным с параметрами добычи и очистки.  
Модель должна способствовать оптимизации производства, чтобы не запускать предприятие с убыточными характеристиками.

Описание проекта
--------------------------
1. Подготовка данных;
2. Исследовательский анализ данных;
3. Построение и обучение моделей.

Описание данных
-------------------------
Данные находятся в трёх файлах:  
gold_recovery_train_new.csv — обучающая выборка;  
gold_recovery_test_new.csv — тестовая выборка;  
gold_recovery_full_new.csv — исходные данные.  
Данные индексируются датой и временем получения информации (признак date).  
Соседние по времени параметры часто похожи.

Признаки 
--------------
Rougher feed — исходное сырье  
Rougher additions (или reagent additions) — флотационные реагенты: Xanthate, Sulphate, Depressant  
Xanthate **— ксантогенат (промотер, или активатор флотации);  
Sulphate — сульфат (на данном производстве сульфид натрия);  
Depressant — депрессант (силикат натрия).  
Rougher process (англ. «грубый процесс») — флотация  
Rougher tails — отвальные хвосты  
Float banks — флотационная установка  
Cleaner process — очистка  
Rougher Au — черновой концентрат золота  
Final Au — финальный концентрат золота

Параметры этапов
--------------------------
rougher — флотация  
primary_cleaner — первичная очистка  
secondary_cleaner — вторичная очистка  
final — финальные характеристики	

Дополнительные данные
------------------------------------
air amount — объём воздуха  
fluid levels — уровень жидкости  
feed size — размер гранул сырья  
feed rate — скорость подачи  

Технологический процесс
------------------------------------
После первичной обработки золотосодержащей руды, получается дроблёная смесь. Её отправляют на флотацию (обогащение) и двухэтапную очистку.  
1. Флотация  
Во флотационную установку подаётся смесь золотосодержащей руды. После обогащения получается черновой концентрат и «отвальные хвосты», то есть остатки продукта с низкой концентрацией ценных металлов.  
На стабильность этого процесса влияет непостоянное и неоптимальное физико-химическое состояние флотационной пульпы (смеси твёрдых частиц и жидкости).
2. Очистка  
Черновой концентрат проходит две очистки. На выходе получается финальный концентрат и новые отвальные хвосты.  
input — параметры сырья  
output — параметры продукта  
state — параметры, характеризующие текущее состояние этапа  
calculation — расчётные характеристики

Метрика от заказчика
-------------------------------
Recovery = C * (F – T) /  (F * (C -T)) * 100%, где:  
C — доля золота в концентрате после флотации/очистки;  
F — доля золота в сырье/концентрате до флотации/очистки;  
T — доля золота в отвальных хвостах после флотации/очистки.  
Для прогноза коэффициента нужно найти долю золота в концентратах и хвостах. Причём важен не только финальный продукт, но и черновой концентрат.  
Метрика качества  
sMAPE (англ. Symmetric Mean Absolute Percentage Error, «симметричное среднее абсолютное процентное отклонение»).  
Метрика sMAPE вычисляется так:  
sMAPE = 1 / N * sum(abs(y[i] – y1[i]) / ((abs(y[i]) + abs[y1[i]) / 2) * 100%, где  
y[i] - значение целевого признака для объекта с порядковым номером i в выборке, на которой измеряется качество,  
y1[i] - значение предсказания для объекта с порядковым номером i, например, в тестовой выборке,   
N - количество объектов в выборке.

Целевые признаки
---------------------------
эффективность обогащения чернового концентрата rougher.output.recovery;  
эффективность обогащения финального концентрата final.output.recovery.

Итоговая метрика
----------------
final_sMAPE = 25% * sMAPE(rougher) + 75% * sMAPE(final)

Технологии
-----------
pandas  
matplotlib  
numpy  
sklearn  
scipy  
random  
seaborn  